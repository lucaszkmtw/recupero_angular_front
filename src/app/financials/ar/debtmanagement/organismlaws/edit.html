<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-8">
        <h2>
            {{ 'findm.organismlaw' | translate}}
            <small data-ng-show="organismcredittype.id"> {{organismlaw.lawid}} {{organismlaw.personName}} </small>
        </h2>
        <div ncy-breadcrumb class="page-breadcrumb"></div>
    </div>
    <div class="col-lg-4">
        <div class="title-action">
            <button type="button" data-ng-click="save()" class="btn btn-primary">
                <i class="fa fa-floppy-o"></i> {{ 'command.save' | translate }}</button>
        </div>
    </div>
</div>
<div class="wrapper wrapper-content">
    <div class="ibox">
        <div class="ibox-content">
            <form role="form" name="organismlawForm">
                <div class="row">
                    <div class="col-md-9">
                        <div class="form-group">
                            <label for="organismId">Organismo</label>
                            <div id="organismId" data-lookup="organismLookup" name="organismId" data-ng-model="organismlaws.organismId" data-business-partner-type-name="{{businessPartnerTypeName}}"  data-ng-disabled="organismlaws.Id != null" data-ng-change="loadLaws()" required></div>
                            <span style="color:red" data-ng-show="organismlawForm.pesonid.$touched && organismlawForm.pesonid.$invalid">El Organismo es requerido.</span>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-9">
                        <fieldset>
                            <div class="row">
                                <div class="col-md-12">
                                    <label for="lawId">Ley</label>
                                    <div id="lawId" data-lookup="lawLookup" data-ng-model="params.lawId" data-code="{{lookupLawType}}">
                                        <span class="input-group-btn">
                                            <button type="button" data-ng-disabled="!params.lawId" data-ng-click="addLaw()" class="btn btn-default" style="margin-left: 5px;">
                                                <i class="fa fa-plus"></i>&nbsp;Agregar</button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th style="width: 300px;">Leyes</th>
                                                <th style="width: 30px;"></th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            <tr data-ng-repeat="law in organismlaws.laws">

                                                <td>
                                                  {{law.name}}
                                                </td>
                                                <td>
                                                    <button data-ng-click="removeLaw(law)" type="button" class="btn btn-danger btn-xs">
                                                        <i class="fa fa-trash-o"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr data-ng-show="organismlaws.laws.length==0">
                                                <td colspan="5">No existen Leyes asignadas.</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>