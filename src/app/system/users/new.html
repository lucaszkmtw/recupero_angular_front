<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-8">
        <h2>
            {{ 'system.user' | translate }} <small>{{user.firstName}} {{user.lastName}}</small>
        </h2>
        <div ncy-breadcrumb class="page-breadcrumb"></div>
    </div>
    <div class="col-lg-4">
        <div class="title-action">
            
            <a href="" target="_blank" class="btn btn-primary" data-ng-click="save()"><i class="fa fa-floppy-o"></i> {{ 'command.save' | translate }}</a>
        </div>
    </div>
</div>

<div class="wrapper wrapper-content">
    <div class="ibox">
        <div class="ibox-content">
            <form role="form" name="userForm" autocomplete="off">
                <input type="password" style="display:none;width:0;height:0">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="systemPersonLookup">Persona</label>
                            <div id="systemPersonLookup" data-lookup="systemPersonLookup" data-ng-model="user.personId" data-filter="with_no_linked_user" required></div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="name">Nombre de usuario</label>
                            <input type="text" autocomplete="off" name="name" class="form-control" id="name" data-ng-model="user.name">
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="password">Contraseña</label>
                            <input type="password" autocomplete="off" name="password" class="form-control" id="password" data-ng-model="user.password">
                        </div>
                    </div>
                </div>
                    
                <div class="row">
                    <div class="col-xs-12">
                        {{user.roles | json }}
                    </div>
                </div>

                <div data-ng-if="user.id">
                    <div class="row">
                        <div class="col-xs-12">
                            <uib-tabset class="tabbable">
                                <uib-tab>
                                    <tab-heading data-translate="system.permissions">Permissions</tab-heading>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div data-system-user-permissions-grid="" data-user-id="params.userId"></div>
                                        </div>
                                    </div>
                                </uib-tab>
                                <uib-tab>
                                    <tab-heading data-translate="system.roles">Roles</tab-heading>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div data-system-user-roles-grid="" data-user-id="params.userId" data-selected-items="user.roles"></div>
                                        </div>
                                    </div>
                                </uib-tab>
                            </uib-tabset>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>